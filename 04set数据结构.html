<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>set&map数据结构</title>
</head>
<body>
<script>
    let set=new Set([1,2,3,4,5,5,6,6,7,7])
    console.log(set,set.size)
    console.log(set.add(0))
    /* set数据结构
			特点:1.类似于数组,但其成员的值是唯一的,没有重复
				2.本身是构造函数
				3.轻松实现数组去重  注意:其内部判断机制的的算法是"Same-value equality",数字和字符串不进行隐式转换,空对象不是精确相等,被视为两个值
				4.可接收数组,或者类似数组的对象作为参数
				5.set结构只有键值,没有键名或者说键值和键名相同
			属性:
				1.set.size  表示数组的长度,相当于arr.length
				2.set.add(字符串/对象/数组/数字),返回值是新数组,默认添加到末尾,不会插队,不会重新排序


		*/
    /*
            Set实例的属性和方法
                属性:1.set.prototype.constructor 构造函数,默认就是set函数
                    2.set.prototype.size 返回set实例的成员总数
                方法:
                    a.操作方法(用来操作数据)
                        add(value) 添加某个值 返回set结构本身
                        delete(value) 删除某个值 返回布尔值,表示删除是否成功
                        has(value) 返回布尔值,表示参数是否为set成员
                        clear() 清除所有,无参无返

                        Array.from() 可将set结构转换为数组

                    b.遍历方法(用来遍历成员)
                        keys() 返回键名的遍历器,返回值是对象
                        values() 返回值的遍历器,返回值是对象
                        entries() 返回键值对的遍历器,返回值是对象,放在数组中
                        forEach() 使用回调函数遍历每个成员

                        注意:Set结构的实例默认可遍历

            */
    console.log(set.delete(7),set)
    console.log(set.has(7))
    console.log(set.clear(),set)
function dedupe(array) {
    return Array.from(new Set(array))
}
let arr=dedupe([0,0,1,1,2,3,4])
    console.log(arr)
    arr.forEach((value,key)=>{console.log(value)})
    let arr_a= new Set([1,2,3])
    let arr_b=new Set([4,5,6])
    let union=new Set([...arr_a,...arr_b])
    console.log(union)
    //差集a与b不同
    let dif=new Set([...arr_a].filter(x=>!arr_b.has(x)))
    console.log(dif)
    let jiao=new Set([...arr_a].filter(x=>arr_b.has(x)))
    console.log(jiao)
    const a1=[{name:'张三'},{age:20},{sex:'男'}]
    const a2=[1,2,3]//报错
    const a3={name:'李四'}//报错
    const ws= new WeakSet(a1)
    console.log(ws)
    const m=new Map()
    const o={p:"hellow world"};
    m.set(o,'content').set("a",1).set("b",2).set("c",3)
    // console.log(m.get(o),m.has(o),m.delete(o),m.has(o));
    /*
	Map的实例相关的属性和方法
		属性:
		size 返回Map结构的成员数

		方法:1.set(key,value)  返回的是当前Map对象,如果key上有值,键值就会被更新
			2.get(key) 读取对应的值,如果没有找到key,返回undefined
			3.has(key) 返回布尔值,表示某个键是否在map数据结构中
			4.delete(key) 删除某个键 返回true或false
			5.clear() 清除所有成员,没有返回值
*/
//遍历方法
    /*
    1.keys()返回键名
    2.values()返回键值
    3.entries()返回所有成员
    4.forEach遍历map的所有成员
     */
    for(let key of m.keys()){
        console.log(key)
    }
    for(let v of m.values()){
        console.log(v)
    }
    for(let entries of m.entries()){
        console.log(entries)
    }
    for (let [key,value] of m){
        console.log(key,value)
    }
    console.log([...m.keys()])
</script>
</body>
</html>
